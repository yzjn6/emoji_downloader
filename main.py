import os

import requests
from bs4 import BeautifulSoup

# ç½‘é¡µURL
domain = "https://www.emojiall.com/zh-hans/emoji"

# å‘é€HTTP GETè¯·æ±‚è·å–ç½‘é¡µå†…å®¹

emojis = ["âœ‰ï¸ğŸ…ğŸ¥šğŸ¥š",
          "âš–ï¸ğŸ¤ğŸ‘‰1ï¸âƒ£",
          "âšªğŸ¦³ğŸ‘ğŸ§“ğŸ»",
          "1ï¸âƒ£ğŸ§¹2ï¸âƒ£ğŸˆ³",
          "3ï¸âƒ£ğŸ”€9ï¸âƒ£ğŸ¤¤",
          "7ï¸âƒ£4ï¸âƒ£ğŸ”™ğŸ¥œ",
          "ğŸˆšğŸ”ğŸ‰‘ğŸ™ğŸ»",
          "ğŸˆšğŸ‘¨â“ğŸ³",
          "ğŸˆšğŸ”’ğŸ…ğŸ…",
          "ğŸˆšğŸ˜˜ğŸˆšğŸ¦´",
          "ğŸˆ¯â“‚ï¸ğŸ™…ğŸ»â€â™€ï¸5ï¸âƒ£",
          "ğŸˆ¯ğŸ–ğŸ»ğŸ‰‘ğŸ¥µ",
          "ğŸˆ³ğŸ¦±ğŸ¹ğŸ«",
          "ğŸˆµğŸ”«ğŸ¥µğŸŠ",
          "ğŸˆµğŸšªâœğŸ»æ–©",
          "ğŸˆ¶ğŸ…ğŸˆšğŸ¦–",
          "ğŸˆ¶ğŸ‘€ğŸ¹ğŸ¦ ",
          "ğŸˆ¹ğŸˆ¹ğŸ™…ğŸ»â€â™€ï¸ğŸ¦Œ",
          "ğŸ‰ğŸ™…ğŸ»â€â™€ï¸ğŸ‘…ğŸ¦",
          "ğŸŒğŸ‘†ğŸ»ğŸ‘¨â–",
          "ğŸŒ©ï¸ğŸ’ªğŸŒªï¸ğŸš¶â€â™‚ï¸",
          "ğŸ‹4ï¸âƒ£ğŸ™…ğŸ»â€â™€ï¸ğŸª",
          "ğŸœğŸœğŸ™‹ğŸ»â€â™‚ï¸ğŸŒ¾",
          "ğŸğŸ‘†ğŸ»ğŸ•¸ï¸ğŸš¶â€â™€ï¸",
          "ğŸ¹ğŸ¹ğŸ‘“ğŸ‘“",
          "ğŸŒğŸ¦¶ğŸ»ğŸ¤«ğŸ”†",
          "ğŸğŸ¥œğŸª1ï¸âƒ£",
          "ğŸğŸğŸš¿ğŸš¿",
          "ğŸ”ğŸ ğŸ™ğŸ»ğŸŠ",
          "ğŸ ğŸ²ğŸ‘»ğŸ¤¹ğŸ»",
          "ğŸ ğŸ¥©ğŸ’¯âœ‰ï¸",
          "ğŸ³9ï¸âƒ£ğŸ™…ğŸ»â€â™€ï¸ğŸ‰",
          "ğŸ¹â¬œğŸˆšğŸ’ª",
          "ğŸ‘¶ğŸ»ğŸ³ğŸ…ğŸ¦´",
          "ğŸ’ªğŸ‘“ğŸ¹ğŸ¤•",
          "ğŸ’¯ğŸ ğŸ’‰ğŸ”†",
          "ğŸ’°ğŸš—ğŸ¹âš”ï¸",
          "ğŸ“¿ğŸ”—ğŸ¦ğŸˆ´",
          "ğŸ”ƒğŸğŸŠğŸ™",
          "ğŸ”ƒğŸ’§âï¸ğŸ›¶",
          "ğŸ”„ğŸ”ƒğŸ”ğŸ…",
          "ğŸ”¥ğŸ€„ğŸ¤ğŸ»ğŸŒ°",
          "ğŸ•°ï¸ğŸ”’ğŸ¥£ğŸ•·ï¸",
          "ğŸ–ğŸ»ğŸ“‹â™Ÿï¸ğŸ„ğŸ»",
          "ğŸ–ğŸ»ğŸ¦¶ğŸ»ğŸˆšâŒ",
          "ğŸ—³ï¸ğŸ­ğŸ”ğŸ’¨",
          "ğŸ™…ğŸ»â€â™€ï¸âšª1ï¸âƒ£0ï¸âƒ£0ï¸âƒ£0ï¸âƒ£0ï¸âƒ£ğŸ",
          "ğŸ™…ğŸ»â€â™€ï¸1ï¸âƒ£2ï¸âƒ£ğŸ›«",
          "ğŸ™…ğŸ»â€â™€ï¸1ï¸âƒ£ğŸ ğŸ’ª",
          "ğŸ™…ğŸ»â€â™€ï¸ğŸ‰‘ğŸ¥ğŸ“",
          "ğŸ™…ğŸ»â€â™€ï¸ğŸ”ğŸ¹ğŸŒˆ",
          "ğŸ™…ğŸ»â€â™€ï¸ğŸ”ğŸ™…ğŸ»â€â™€ï¸ğŸ",
          "ğŸ™…ğŸ»â€â™€ï¸ğŸ”†1ï¸âƒ£ğŸ’°",
          "ğŸ™…ğŸ»â€â™€ï¸ğŸ¥¶2ï¸âƒ£ğŸŒ°",
          "ğŸ¥‡ğŸŒªï¸ğŸŒ½ğŸ¦Œ",
          "ğŸ¥œ0ï¸âƒ£â™Ÿï¸ğŸ‘“",
          "ğŸ¥œğŸ¤°ğŸ¼6ï¸âƒ£ğŸ",
          "ğŸ¥ğŸŒå¤§ğŸ¥´",
          "ğŸ¦ˆ1ï¸âƒ£#ï¸âƒ£ğŸ’¯",
          "ğŸ¦ŸğŸ˜ï¸4ï¸âƒ£ğŸ‘¶ğŸ»",
          "ğŸ¦ 1ï¸âƒ£ğŸˆš2ï¸âƒ£",
          "ğŸ§“ğŸ»â˜€ï¸ğŸ²ğŸ•°ï¸",
          "ğŸ§ ğŸ¤­ğŸŠğŸ˜¡",
          "ğŸª‘ğŸ§“ğŸ»ğŸ™ï¸ğŸ§“ğŸ»"]
# emojis = ["âœ‰ï¸ğŸ…ğŸ¥šğŸ¥š"]


def download(i,url):
    response = requests.get(url)
    print(url)
    # æ£€æŸ¥è¯·æ±‚çŠ¶æ€ç ï¼Œ200è¡¨ç¤ºè¯·æ±‚æˆåŠŸ
    if response.status_code == 200:
        # ä½¿ç”¨BeautifulSoupè§£æHTMLæ–‡æ¡£
        soup = BeautifulSoup(response.content, 'html.parser')

        # æ‰¾åˆ°ç›®æ ‡å›¾ç‰‡çš„èŠ‚ç‚¹
        img_node = soup.select_one(
            'body > div.body_warp.row.no-gutters > section > div > div > div > div > div:nth-child(1) > div > div > div > div > div > div:nth-child(1) > div:nth-child(15) > div > ul > li:nth-child(2) > figure > img')
        print("img_node",img_node)
        # è·å–å›¾ç‰‡çš„URLé“¾æ¥
        image_url = "https://www.emojiall.com"+img_node['data-src']
        print(image_url)
        # å‘é€HTTP GETè¯·æ±‚è·å–å›¾ç‰‡å†…å®¹
        image_response = requests.get(image_url)

        # æ£€æŸ¥è¯·æ±‚çŠ¶æ€ç ï¼Œ200è¡¨ç¤ºè¯·æ±‚æˆåŠŸ
        if image_response.status_code == 200:
            # å°†å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°
            with open("words/" + words+"/"+i+".png", "wb") as file:
                file.write(image_response.content)
            print("å›¾ç‰‡ä¸‹è½½æˆåŠŸï¼")
        else:
            print("å›¾ç‰‡ä¸‹è½½å¤±è´¥ï¼")
    else:
        print("ç½‘é¡µè¯·æ±‚å¤±è´¥ï¼")


if __name__ == '__main__':

    for words in emojis:
        os.makedirs("words/" + words)
        for i in words:
            url_emoji = domain + "/"+i
            download(i,url_emoji)
